{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Downloads\\\\student-management\\\\student-management\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from './mockApi';\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { auth } from './firebaseConfig';\nimport { signOut } from 'firebase/auth';\nimport { logoutUser } from './utility/signout';\nimport StudentList from './components/StudentList';\nimport AddStudentForm from './components/AddStudentForm';\nimport LoginForm from './components/LoginForm';\nimport './App.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst handleLogout = () => {\n  logoutUser().then(() => {\n    console.log('User logged out');\n  }).catch(error => {\n    console.error('Logout error:', error);\n  });\n};\nfunction App() {\n  _s();\n  const [students, setStudents] = useState([]);\n  const [user, setUser] = useState(null);\n  const [filter, setFilter] = useState('');\n  const [showAddForm, setShowAddForm] = useState(false);\n\n  // Fetch students on mount\n  useEffect(() => {\n    axios.get('/students').then(res => {\n      console.log(\"Fetched students:\", res.data); // ðŸ‘ˆ Add this line\n      setStudents(res.data);\n    });\n  }, []);\n\n  // Track login state\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, currentUser => {\n      setUser(currentUser);\n    });\n    return () => unsubscribe();\n  }, []);\n\n  // Filter logic\n  const filteredStudents = students.filter(student => student.course.toLowerCase().includes(filter.toLowerCase()));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Student Management\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Filter by course\",\n      value: filter,\n      onChange: e => setFilter(e.target.value),\n      className: \"filter-input\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), user && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"logout-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Welcome, \", user.email]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(StudentList, {\n      students: filteredStudents\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setShowAddForm(true),\n      className: \"add-button\",\n      children: \"Add New Student\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), showAddForm && (user ? /*#__PURE__*/_jsxDEV(AddStudentForm, {\n      setStudents: setStudents\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"You must log in to add a new student.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(LoginForm, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"GcRBpjjhOj7ZfSI14ayHq7m1S8s=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","axios","onAuthStateChanged","auth","signOut","logoutUser","StudentList","AddStudentForm","LoginForm","jsxDEV","_jsxDEV","Fragment","_Fragment","handleLogout","then","console","log","catch","error","App","_s","students","setStudents","user","setUser","filter","setFilter","showAddForm","setShowAddForm","get","res","data","unsubscribe","currentUser","filteredStudents","student","course","toLowerCase","includes","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","email","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Lenovo/Downloads/student-management/student-management/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from './mockApi'; \nimport { onAuthStateChanged } from 'firebase/auth';\nimport { auth } from './firebaseConfig';\n\nimport { signOut } from 'firebase/auth';\nimport { logoutUser } from './utility/signout';\n\n\nimport StudentList from './components/StudentList';\nimport AddStudentForm from './components/AddStudentForm';\nimport LoginForm from './components/LoginForm';\n\nimport './App.css';\n\nconst handleLogout = () => {\n  logoutUser()\n    .then(() => {\n      console.log('User logged out');\n    })\n    .catch((error) => {\n      console.error('Logout error:', error);\n    });\n};\n\n\nfunction App() {\n  const [students, setStudents] = useState([]);\n  const [user, setUser] = useState(null);\n  const [filter, setFilter] = useState('');\n  const [showAddForm, setShowAddForm] = useState(false);\n\n  // Fetch students on mount\n  useEffect(() => {\n    axios.get('/students').then((res) => {\n      console.log(\"Fetched students:\", res.data); // ðŸ‘ˆ Add this line\n      setStudents(res.data);\n    });\n  }, []);\n  \n\n  // Track login state\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (currentUser) => {\n      setUser(currentUser);\n    });\n    return () => unsubscribe();\n  }, []);\n\n  // Filter logic\n  const filteredStudents = students.filter((student) =>\n    student.course.toLowerCase().includes(filter.toLowerCase())\n  );\n\n  return (\n    <div className=\"container\">\n      <h1>Student Management</h1>\n\n      <input\n        type=\"text\"\n        placeholder=\"Filter by course\"\n        value={filter}\n        onChange={(e) => setFilter(e.target.value)}\n        className=\"filter-input\"\n      />\n        {user && (\n        <div className=\"logout-section\">\n          <p>Welcome, {user.email}</p>\n          <button onClick={handleLogout}>Logout</button>\n        </div>\n      )}\n\n      {/* Always show student list */}\n      <StudentList students={filteredStudents} />\n\n      {/* Button to add student */}\n      <button onClick={() => setShowAddForm(true)} className=\"add-button\">\n        Add New Student\n      </button>\n\n      {/* Conditional: Add Form or Login */}\n      {showAddForm && (\n        user ? (\n          <AddStudentForm setStudents={setStudents} />\n        ) : (\n          <>\n            <p>You must log in to add a new student.</p>\n            <LoginForm />\n          </>\n        )\n      )}\n    </div>\n  )\n}\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}