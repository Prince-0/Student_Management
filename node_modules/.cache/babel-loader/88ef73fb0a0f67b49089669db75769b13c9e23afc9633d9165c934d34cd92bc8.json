{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Downloads\\\\student-management\\\\student-management\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from './mockApi'; // Make sure you use the mocked axios\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { auth } from './firebaseConfig';\nimport StudentList from './components/StudentList';\nimport AddStudentForm from './components/AddStudentForm';\nimport LoginForm from './components/LoginForm';\nimport './App.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [students, setStudents] = useState([]);\n  const [user, setUser] = useState(null);\n  const [filter, setFilter] = useState('');\n  const [showAddForm, setShowAddForm] = useState(false);\n\n  // Fetch students on mount\n  useEffect(() => {\n    axios.get('/students').then(res => {\n      console.log(\"Fetched students:\", res.data); // ðŸ‘ˆ Add this line\n      setStudents(res.data);\n    });\n  }, []);\n\n  // Track login state\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, currentUser => {\n      setUser(currentUser);\n    });\n    return () => unsubscribe();\n  }, []);\n\n  // Filter logic\n  const filteredStudents = students.filter(student => student.course.toLowerCase().includes(filter.toLowerCase()));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Student Management\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Filter by course\",\n      value: filter,\n      onChange: e => setFilter(e.target.value),\n      className: \"filter-input\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StudentList, {\n      students: filteredStudents\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setShowAddForm(true),\n      className: \"add-button\",\n      children: \"Add New Student\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), showAddForm && (user ? /*#__PURE__*/_jsxDEV(AddStudentForm, {\n      setStudents: setStudents\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"You must log in to add a new student.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(LoginForm, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"GcRBpjjhOj7ZfSI14ayHq7m1S8s=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","axios","onAuthStateChanged","auth","StudentList","AddStudentForm","LoginForm","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","students","setStudents","user","setUser","filter","setFilter","showAddForm","setShowAddForm","get","then","res","console","log","data","unsubscribe","currentUser","filteredStudents","student","course","toLowerCase","includes","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Lenovo/Downloads/student-management/student-management/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from './mockApi'; // Make sure you use the mocked axios\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { auth } from './firebaseConfig';\n\nimport StudentList from './components/StudentList';\nimport AddStudentForm from './components/AddStudentForm';\nimport LoginForm from './components/LoginForm';\n\nimport './App.css';\n\nfunction App() {\n  const [students, setStudents] = useState([]);\n  const [user, setUser] = useState(null);\n  const [filter, setFilter] = useState('');\n  const [showAddForm, setShowAddForm] = useState(false);\n\n  // Fetch students on mount\n  useEffect(() => {\n    axios.get('/students').then((res) => {\n      console.log(\"Fetched students:\", res.data); // ðŸ‘ˆ Add this line\n      setStudents(res.data);\n    });\n  }, []);\n  \n\n  // Track login state\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (currentUser) => {\n      setUser(currentUser);\n    });\n    return () => unsubscribe();\n  }, []);\n\n  // Filter logic\n  const filteredStudents = students.filter((student) =>\n    student.course.toLowerCase().includes(filter.toLowerCase())\n  );\n\n  return (\n    <div className=\"container\">\n      <h1>Student Management</h1>\n\n      <input\n        type=\"text\"\n        placeholder=\"Filter by course\"\n        value={filter}\n        onChange={(e) => setFilter(e.target.value)}\n        className=\"filter-input\"\n      />\n\n      {/* Always show student list */}\n      <StudentList students={filteredStudents} />\n\n      {/* Button to add student */}\n      <button onClick={() => setShowAddForm(true)} className=\"add-button\">\n        Add New Student\n      </button>\n\n      {/* Conditional: Add Form or Login */}\n      {showAddForm && (\n        user ? (\n          <AddStudentForm setStudents={setStudents} />\n        ) : (\n          <>\n            <p>You must log in to add a new student.</p>\n            <LoginForm />\n          </>\n        )\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}